{"version":3,"file":"image-fetcher.js","names":["document","addEventListener","getElementById","imageUrl","value","includes","handleImageSeries","validateUrl","fetchImage","displayError","className","createImageModal","currentImageIndex","imageSeriesUrls","url","urlPattern","match","prefix","replace","leadingZeros","startNum","parseInt","endNum","suffix","imageUrls","i","numStr","formattedNum","length","padStart","toString","push","concat","displayMessage","urls","imageDisplayArea","spinner","removeAttribute","innerHTML","forEach","image","Image","onload","setAttribute","displayImage","naturalWidth","naturalHeight","onerror","src","width","height","containerDiv","createElement","imgElement","loading","alt","dimensionDiv","textContent","appendChild","addClickEventToImages","message","urlError","style","color","pattern","RegExp","test","images","querySelectorAll","img","removeEventListener","handleImageClick","event","displayModalImage","target","indexOf","modal","modalContent","querySelector","existingImg","existingCaption","removeChild","filename","split","pop","captionText","captionDiv","display","classList","add","navigateNext","console","log","navigatePrevious","id","position","zIndex","left","top","overflow","backgroundColor","navigatorContainer","prevArrow","onclick","nextArrow","body","remove","contains","key","window"],"sources":["image-fetcher.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    document.getElementById('fetchButton').addEventListener('click', function() {\r\n        var imageUrl = document.getElementById('urlInput').value;\r\n        if (imageUrl.includes('[') && imageUrl.includes(']')) {\r\n            handleImageSeries(imageUrl);\r\n        } else if (validateUrl(imageUrl)) {\r\n            fetchImage([imageUrl]);\r\n        } else {\r\n            displayError('Please enter a valid URL.');\r\n        }\r\n    });\r\n\r\n    document.getElementById('list-view-toggle').addEventListener('click', function() {\r\n        document.getElementById('imageDisplay').className = 'list-view';\r\n    });\r\n\r\n    document.getElementById('grid-view-toggle').addEventListener('click', function() {\r\n        document.getElementById('imageDisplay').className = 'grid-view';\r\n    });\r\n\r\n    createImageModal();\r\n});\r\n\r\nlet currentImageIndex = 0;\r\nlet imageSeriesUrls = [];\r\n\r\nfunction handleImageSeries(url) {\r\n    const urlPattern = url.match(/(.*\\[)(0*)(\\d+)-(\\d+)(\\].*)/);\r\n    if (urlPattern) {\r\n        const prefix = urlPattern[1].replace('[', '');\r\n        const leadingZeros = urlPattern[2];\r\n        const startNum = parseInt(urlPattern[3], 10);\r\n        const endNum = parseInt(urlPattern[4], 10);\r\n        const suffix = urlPattern[5].replace(']', '');\r\n\r\n        let imageUrls = [];\r\n        for (let i = startNum; i <= endNum; i++) {\r\n            const numStr = leadingZeros + i;\r\n            const formattedNum = leadingZeros.length > 0 ? numStr.padStart(2, '0') : i.toString();\r\n            imageUrls.push(`${prefix}${formattedNum}${suffix}`);\r\n        }\r\n        fetchImage(imageUrls);\r\n        displayMessage('Image Series');\r\n    } else {\r\n        displayError('Invalid series URL format.');\r\n    }\r\n}\r\n\r\nfunction fetchImage(urls) {\r\n    const imageDisplayArea = document.getElementById('imageDisplay');\r\n    const spinner = document.getElementById('spinner');\r\n\r\n    spinner.removeAttribute('hidden');\r\n\r\n    imageDisplayArea.innerHTML = '';\r\n\r\n    imageSeriesUrls = urls; // Store the array of image URLs\r\n\r\n    urls.forEach(url => {\r\n        const image = new Image();\r\n        image.onload = function() {\r\n            spinner.setAttribute('hidden', '');\r\n            displayImage(url, image.naturalWidth, image.naturalHeight);\r\n        };\r\n        image.onerror = function() {\r\n            spinner.setAttribute('hidden', '');\r\n            // Handle broken image links by not attempting to display them\r\n        };\r\n        image.src = url;\r\n    });\r\n}\r\n\r\nfunction displayImage(url, width, height) {\r\n    const imageDisplayArea = document.getElementById('imageDisplay');\r\n    const containerDiv = document.createElement('div');\r\n    containerDiv.className = 'image-container';\r\n\r\n    const imgElement = document.createElement('img');\r\n    imgElement.src = url;\r\n    imgElement.loading = 'lazy';\r\n    imgElement.className = 'img-fluid';\r\n    imgElement.alt = 'Image';\r\n\r\n    const dimensionDiv = document.createElement('div');\r\n    dimensionDiv.className = 'image-info';\r\n    dimensionDiv.textContent = `${width} x ${height}`;\r\n\r\n    containerDiv.appendChild(imgElement);\r\n    containerDiv.appendChild(dimensionDiv);\r\n    imageDisplayArea.appendChild(containerDiv);\r\n\r\n    addClickEventToImages();\r\n}\r\n\r\nfunction displayError(message) {\r\n    const urlError = document.getElementById('urlError');\r\n    urlError.textContent = message;\r\n    urlError.style.color = 'red';\r\n}\r\n\r\nfunction displayMessage(message) {\r\n    const urlError = document.getElementById('urlError');\r\n    urlError.textContent = message;\r\n    urlError.style.color = 'black';\r\n}\r\n\r\nfunction validateUrl(url) {\r\n    const pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n        '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n        '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n    return pattern.test(url);\r\n}\r\n\r\nfunction addClickEventToImages() {\r\n    const images = document.querySelectorAll('#imageDisplay img');\r\n    images.forEach(img => {\r\n        img.removeEventListener('click', handleImageClick); // Remove any existing event to avoid duplicates\r\n        img.addEventListener('click', handleImageClick);\r\n    });\r\n}\r\n\r\nfunction handleImageClick(event) {\r\n    displayModalImage(event.target.src);\r\n}\r\n\r\nfunction displayModalImage(src) {\r\n    // Find the index of the current image\r\n    currentImageIndex = imageSeriesUrls.indexOf(src);\r\n\r\n    // Get the modal and modal content containers\r\n    const modal = document.getElementById('imageModal');\r\n    const modalContent = modal.querySelector('.modal-content');\r\n\r\n    // Clear only the image and caption from the modal content, preserving the navigation arrows\r\n    const existingImg = modalContent.querySelector('img');\r\n    const existingCaption = modalContent.querySelector('.modal-caption');\r\n\r\n    if (existingImg) modalContent.removeChild(existingImg);\r\n    if (existingCaption) modalContent.removeChild(existingCaption);\r\n\r\n    // Create a new image element and set its source\r\n    const img = new Image();\r\n    img.onload = function() {\r\n        // Create a caption using the filename and dimensions\r\n        const filename = src.split('/').pop();\r\n        const captionText = `${filename} - ${img.naturalWidth} x ${img.naturalHeight}`;\r\n\r\n        // Create and style the caption div\r\n        const captionDiv = document.createElement('div');\r\n        captionDiv.textContent = captionText;\r\n        captionDiv.className = 'modal-caption'; // Use a class for styling the caption\r\n\r\n        // Append the new image and caption to the modal content\r\n        modalContent.appendChild(img);\r\n        modalContent.appendChild(captionDiv);\r\n    };\r\n    img.src = src;\r\n\r\n    // Show the modal\r\n    modal.style.display = 'block';\r\n    modal.classList.add('show');\r\n}\r\n  \r\nfunction navigateNext() {\r\n    console.log(\"navigateNext fired\");\r\n    currentImageIndex = (currentImageIndex + 1) % imageSeriesUrls.length;\r\n    displayModalImage(imageSeriesUrls[currentImageIndex]);\r\n}\r\n\r\nfunction navigatePrevious() {\r\n    console.log(\"navigatePrevious fired\");\r\n    currentImageIndex = (currentImageIndex - 1 + imageSeriesUrls.length) % imageSeriesUrls.length;\r\n    displayModalImage(imageSeriesUrls[currentImageIndex]);\r\n}\r\n\r\nfunction createImageModal() {\r\n    const modal = document.createElement('div');\r\n    modal.id = 'imageModal';\r\n    modal.className = 'image-modal';\r\n    modal.style.display = 'none';\r\n    modal.style.position = 'fixed';\r\n    modal.style.zIndex = '1';\r\n    modal.style.left = '0';\r\n    modal.style.top = '0';\r\n    modal.style.width = '100%';\r\n    modal.style.height = '100%';\r\n    modal.style.overflow = 'auto';\r\n    modal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)'; // Corrected RGBA color\r\n\r\n    const modalContent = document.createElement('div');\r\n    modalContent.className = 'modal-content';\r\n    modal.appendChild(modalContent);\r\n\r\n    // Create the navigator container\r\n    const navigatorContainer = document.createElement('div');\r\n    navigatorContainer.className = 'modal-navigator';\r\n\r\n    // Create navigation arrows\r\n    const prevArrow = document.createElement('span');\r\n    prevArrow.classList.add('material-icons');\r\n    prevArrow.textContent = 'navigate_before';\r\n    prevArrow.onclick = navigatePrevious;\r\n\r\n    const nextArrow = document.createElement('span');\r\n    nextArrow.classList.add('material-icons');\r\n    nextArrow.textContent = 'navigate_next';\r\n    nextArrow.onclick = navigateNext;\r\n\r\n    // Append arrows to the navigator container\r\n    navigatorContainer.appendChild(prevArrow);\r\n    navigatorContainer.appendChild(nextArrow);\r\n\r\n    // Append navigator container to the modal content\r\n    modalContent.appendChild(navigatorContainer);\r\n\r\n    document.body.appendChild(modal);\r\n\r\n    // Event listeners for the modal\r\n    modal.addEventListener('click', function(event) {\r\n        if (event.target === modal) {\r\n            modal.classList.remove('show');\r\n        }\r\n    });\r\n\r\n    modal.addEventListener('transitionend', function(event) {\r\n        if (!modal.classList.contains('show')) {\r\n            modal.style.display = 'none';\r\n        }\r\n    });\r\n\r\n    return modal;\r\n}\r\n\r\ndocument.addEventListener('keydown', function(event) {\r\n    if (event.key === 'ArrowRight') {\r\n        // Load next image\r\n        currentImageIndex = (currentImageIndex + 1) % imageSeriesUrls.length;\r\n        displayModalImage(imageSeriesUrls[currentImageIndex]);\r\n    } else if (event.key === 'ArrowLeft') {\r\n        // Load previous image\r\n        currentImageIndex = (currentImageIndex - 1 + imageSeriesUrls.length) % imageSeriesUrls.length;\r\n        displayModalImage(imageSeriesUrls[currentImageIndex]);\r\n    }\r\n});\r\n\r\n\r\nwindow.addEventListener('click', function(event) {\r\n    const modal = document.getElementById('imageModal');\r\n    if (event.target === modal) {\r\n        modal.classList.remove('show');\r\n    }\r\n});\r\n"],"mappings":"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"}